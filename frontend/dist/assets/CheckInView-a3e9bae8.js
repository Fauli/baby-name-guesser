import{d as f,r as d,l as k,w as y,c as l,b as e,t as a,i as _,n as C,m as b,F as h,f as w,o as r,p as E}from"./index-63b84e4f.js";const I={key:0},P=e("h1",{style:{color:"red"}},"Error!",-1),$={key:1},S=e("h1",{style:{color:"green"}},"Success!",-1),T={key:2},V=e("p",null," No id provided, please provide one :) ",-1),j=[V],B={key:3},L=e("h1",null,"Loading...",-1),M=e("br",null,null,-1),N=e("br",null,null,-1),q=e("br",null,null,-1),z={class:"message"},A=e("br",null,null,-1),F={class:"message"},R=e("br",null,null,-1),x=e("p",null,"Tags:",-1),D=e("br",null,null,-1),G="https://qreator.ch/api/attendees/",J=f({__name:"CheckInView",setup(O){const t=d(null),c=d(null),i=d(null),v=k().params.id;y(async()=>{const n=`${G}${v}`;t.value=await(await fetch(n)).json().catch(o=>{console.error("Error:",o),c.value=o.message,t.value="{}"})});function p(n){var o="https://qreator.ch/api/attendees/",s=n.id,u=o.concat(s,"/check-ins");return console.log(u),u}function m(n){var o=p(n);fetch(o,{method:"POST",headers:{"Content-Type":"application/json"}}).then(s=>s.json()).then(s=>{if(console.log(s),s.id)i.value="Checked in!";else throw new Error(s.message)}).then(s=>{console.log("Success:",s)}).catch(s=>{console.error("Error:",s),c.value=s.message})}function g(n){return n=="helfer"?"red":n=="gaesteliste"?"green":"black"}return(n,o)=>(r(),l(h,null,[c.value?(r(),l("div",I,[P,e("p",null,a(c.value),1)])):_("",!0),i.value?(r(),l("div",$,[S,e("p",null,a(i.value),1)])):_("",!0),n.$route.params.id=="null"?(r(),l("div",T,j)):_("",!0),t.value?(r(),l("div",C(b({key:4},t.value)),[e("h1",null,a(t.value.name),1),M,e("a",{onClick:o[0]||(o[0]=s=>m(t.value))},"Check in "+a(t.value.name),1),N,q,e("span",z,"E-Mail: "+a(t.value.email_address),1),A,e("span",F,"Eingeladen von: "+a(t.value.invited_by),1),R,x,(r(!0),l(h,null,w(t.value.tags,s=>(r(),l("div",{key:s},[e("span",{class:E(g(s))},a(s),3)]))),128)),D],16)):(r(),l("div",B,[L,e("p",null,"Getting information for id "+a(n.$route.params.id),1)]))],64))}});export{J as default};
