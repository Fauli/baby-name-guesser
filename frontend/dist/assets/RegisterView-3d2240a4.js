import{d as b,r as a,w as y,h as V,c as n,u as d,a as e,b as f,i as R,j as x,f as h,g as l,k as r,o as i}from"./index-ca875564.js";const N={key:0},C=e("h1",null,"Loading...",-1),U=[C],q={key:1},E=e("h1",null,"Register for the name game!",-1),L=e("p",null,"You need the special password in order to register, ask Franz or Kathrin for it :).",-1),Y=e("br",null,null,-1),P=e("br",null,null,-1),T={key:0},j={class:"important"},B={class:"important-content"},S={key:0},O=e("br",null,null,-1),z={key:1},A=e("label",{for:"name"},"Your Name:",-1),D=e("label",{for:"lastname"},"Your Lastname:",-1),F=e("label",{for:"email"},"Your Email (will also be your username):",-1),I=e("label",{for:"password"},"Your Password:",-1),J=e("label",{for:"password"},"Event Password:",-1),K="http://localhost:8080/api/names",G=b({__name:"RegisterView",setup(M){const w=a(null);y(async()=>{const u=`${K}`;w.value=await(await fetch(u)).json()});const c=a(""),_=a(""),p=a(""),m=a(""),v=a("");var s=a("");y(()=>{s.value=""});const g=async()=>{const u={name:c.value,last_name:_.value,email:p.value,password:m.value,event_password:v.value};try{(await fetch("http://localhost:8080/api/voters",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok?(console.log("Registration successful"),s.value="success"):(console.error("Registration failed"),s.value="failure")}catch(t){console.error("Error:",t)}};return(u,t)=>{const k=V("RouterLink");return w.value?(i(),n("div",q,[E,L,Y,P,d(s)==="success"||d(s)==="failure"?(i(),n("div",T,[e("div",j,[e("div",B,[d(s)==="success"?(i(),n("p",S,[f("Registration successful! "),O,f("Now you can "),R(k,{to:"/voting"},{default:x(()=>[f("Vote!")]),_:1})])):h("",!0),d(s)==="failure"?(i(),n("p",z,"Registration failed!")):h("",!0)])])])):h("",!0),e("form",null,[A,l(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o),required:""},null,512),[[r,c.value]]),D,l(e("input",{type:"text",id:"lastname","onUpdate:modelValue":t[1]||(t[1]=o=>_.value=o),required:""},null,512),[[r,_.value]]),F,l(e("input",{type:"email",id:"email","onUpdate:modelValue":t[2]||(t[2]=o=>p.value=o),required:""},null,512),[[r,p.value]]),I,l(e("input",{type:"password",id:"password","onUpdate:modelValue":t[3]||(t[3]=o=>m.value=o),required:""},null,512),[[r,m.value]]),J,l(e("input",{type:"text",id:"event_password","onUpdate:modelValue":t[4]||(t[4]=o=>v.value=o),required:""},null,512),[[r,v.value]]),e("button",{onClick:g},"Register")])])):(i(),n("div",N,U))}}});export{G as default};
