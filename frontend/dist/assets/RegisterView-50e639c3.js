import{d as g,r as n,w,c as a,u as d,a as e,f,g as l,k as r,o as i}from"./index-49de5cce.js";const b={key:0},k=e("h1",null,"Loading...",-1),R=[k],V={key:1},x=e("h1",null,"Register for the name game!",-1),E=e("p",null,"You need the special password (Event password) in order to register, ask Franz or Kathrin for it :).",-1),U=e("br",null,null,-1),q=e("br",null,null,-1),Y={key:0},C={class:"important"},N={key:0,class:"important-content green"},P=e("p",null," Registration successful! ",-1),B=[P],L={key:1,class:"important-content red"},S=e("p",null,"Registration failed!",-1),T=[S],j=e("label",{for:"name"},"Your Name:",-1),O=e("label",{for:"lastname"},"Your Lastname:",-1),z=e("label",{for:"email"},"Your Email (will also be your username):",-1),A=e("label",{for:"password"},"Your Password:",-1),D=e("label",{for:"password"},"Event Password:",-1),F="/api/names",K=g({__name:"RegisterView",setup(I){const h=n(null);w(async()=>{const u=`${F}`;h.value=await(await fetch(u)).json()});const c=n(""),_=n(""),p=n(""),m=n(""),v=n("");var o=n("");w(()=>{o.value=""});const y=async()=>{const u={name:c.value,last_name:_.value,email:p.value,password:m.value,event_password:v.value};try{(await fetch("/api/voters",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok?(console.log("Registration successful"),o.value="success"):(console.error("Registration failed"),o.value="failure")}catch(t){console.error("Error:",t)}};return(u,t)=>h.value?(i(),a("div",V,[x,E,U,q,d(o)==="success"||d(o)==="failure"?(i(),a("div",Y,[e("div",C,[d(o)==="success"?(i(),a("div",N,B)):f("",!0),d(o)==="failure"?(i(),a("div",L,T)):f("",!0)])])):f("",!0),e("form",null,[j,l(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),required:""},null,512),[[r,c.value]]),O,l(e("input",{type:"text",id:"lastname","onUpdate:modelValue":t[1]||(t[1]=s=>_.value=s),required:""},null,512),[[r,_.value]]),z,l(e("input",{type:"email",id:"email","onUpdate:modelValue":t[2]||(t[2]=s=>p.value=s),required:""},null,512),[[r,p.value]]),A,l(e("input",{type:"password",id:"password","onUpdate:modelValue":t[3]||(t[3]=s=>m.value=s),required:"",minlength:"8"},null,512),[[r,m.value]]),D,l(e("input",{type:"text",id:"event_password","onUpdate:modelValue":t[4]||(t[4]=s=>v.value=s),required:""},null,512),[[r,v.value]]),e("button",{type:"submit",onClick:y},"Register")])])):(i(),a("div",b,R))}});export{K as default};
