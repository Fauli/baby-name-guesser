import{d as b,r as n,w,c as a,u as d,a as e,f,g as l,k as r,l as g,o as i}from"./index-ad0edf4f.js";const k={key:0},R=e("h1",null,"Loading...",-1),V=[R],x={key:1},E=e("h1",null,"Register for the name game!",-1),U=e("p",null,"You need the special password (Event password) in order to register, ask Franz or Kathrin for it :).",-1),q=e("br",null,null,-1),Y=e("br",null,null,-1),C={key:0},N={class:"important"},P={key:0,class:"important-content green"},B=e("p",null," Registration successful! ",-1),L=[B],S={key:1,class:"important-content red"},T=e("p",null,"Registration failed!",-1),j=[T],O=e("label",{for:"name"},"Your Name:",-1),z=e("label",{for:"lastname"},"Your Lastname:",-1),A=e("label",{for:"email"},"Your Email (will also be your username):",-1),D=e("label",{for:"password"},"Your Password:",-1),F=e("label",{for:"password"},"Event Password:",-1),I="/api/names",M=b({__name:"RegisterView",setup(J){const h=n(null);w(async()=>{const u=`${I}`;h.value=await(await fetch(u)).json()});const c=n(""),_=n(""),p=n(""),m=n(""),v=n("");var o=n("");w(()=>{o.value=""});const y=async()=>{const u={name:c.value,last_name:_.value,email:p.value,password:m.value,event_password:v.value};try{(await fetch("/api/voters",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok?(console.log("Registration successful"),o.value="success",g.push({path:"/voting"}).then(()=>{g.go(0)})):(console.error("Registration failed"),o.value="failure")}catch(t){console.error("Error:",t)}};return(u,t)=>h.value?(i(),a("div",x,[E,U,q,Y,d(o)==="success"||d(o)==="failure"?(i(),a("div",C,[e("div",N,[d(o)==="success"?(i(),a("div",P,L)):f("",!0),d(o)==="failure"?(i(),a("div",S,j)):f("",!0)])])):f("",!0),e("form",null,[O,l(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),required:""},null,512),[[r,c.value]]),z,l(e("input",{type:"text",id:"lastname","onUpdate:modelValue":t[1]||(t[1]=s=>_.value=s),required:""},null,512),[[r,_.value]]),A,l(e("input",{type:"email",id:"email","onUpdate:modelValue":t[2]||(t[2]=s=>p.value=s),required:""},null,512),[[r,p.value]]),D,l(e("input",{type:"password",id:"password","onUpdate:modelValue":t[3]||(t[3]=s=>m.value=s),required:"",minlength:"8"},null,512),[[r,m.value]]),F,l(e("input",{type:"text",id:"event_password","onUpdate:modelValue":t[4]||(t[4]=s=>v.value=s),required:""},null,512),[[r,v.value]]),e("button",{type:"submit",onClick:y},"Register")])])):(i(),a("div",k,V))}});export{M as default};
