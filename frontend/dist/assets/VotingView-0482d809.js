import{d as p,r as i,w as m,c as l,a as e,b as c,t as r,F as _,e as h,f as b,o as s,g as f,v as g}from"./index-bbdfe89e.js";const y={key:0},V=e("h1",null,"Loading...",-1),k=[V],w={key:1},x=e("h1",null,"List of all possible names",-1),S=e("p",null,"This site shows all discussed names.",-1),C=e("br",null,null,-1),E=e("hr",null,null,-1),N=e("br",null,null,-1),T=["value"],L={class:"message"},j=e("br",null,null,-1),B=e("br",null,null,-1),D=e("hr",null,null,-1),F=e("br",null,null,-1),O={key:0},P=e("br",null,null,-1),U="http://localhost:8080/api/names",J=p({__name:"VotingView",setup(A){const a=i(null);m(async()=>{const u=`${U}`;a.value=await(await fetch(u)).json()});const o=i([]);function d(){console.log("Submitting vote for",o.value);var u=o.value;fetch("http://localhost:8080/api/votes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({names:u})}).then(t=>t.json()).then(t=>{console.log("Success:",t),alert("Vote submitted"),t.status!==200&&alert("Error: "+t.error)}).catch(t=>{console.error("Error:",t),alert("Error submitting vote")})}return(u,t)=>a.value?(s(),l("div",w,[x,S,e("p",null,[c("There are currently "),e("b",null,r(a.value.names.length),1),c(" available to choose from.")]),C,E,N,e("ul",null,[(s(!0),l(_,null,h(a.value.names,n=>(s(),l("p",{key:n.value},[f(e("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=v=>o.value=v),value:n},null,8,T),[[g,o.value]]),e("span",L," Â  "+r(n),1),j]))),128))]),B,D,F,o.value.length>0?(s(),l("p",O,"You will be voting for:")):b("",!0),e("ul",null,[(s(!0),l(_,null,h(o.value,n=>(s(),l("li",{key:n},r(n),1))),128))]),P,e("button",{onClick:d,class:"submit-button"},"Submit Vote")])):(s(),l("div",y,k))}});export{J as default};
